# 数模-相关系数

相关系数，其实就是衡量两个变量之间相关性的大小的指标

一般分为两种：

一种是pearson，另一种是spearman（衡量两个变量的依赖性）

总体与样本：以样本代替总体

而从总体中获得样本的过程，就称之为抽样

简单理解一下，个体的某些性质，我们是不好揣测的，特别是有些个体，本身就有较大的波动。所以观察个体的数据，我们很难得到什么一般性的结论。但许多个个体聚在一起，他们的行为，性质等可能会表现出某种同步性，或者说规律性。个体是特殊的，但总体中的个体又是普通的，统计学想要发掘的，大概就是个体中存在的共性。这种共性，或者说规律本身是固定的，观察数量的多少，主要决定着对这种规律的反映程度。数量越多，规律自然会更清晰更直观。因此，样本相对于总体，其区别可能就是对规律或者共性的反映清晰度不同，但本质上是一样的。那么，用样本估计总体或者代替总体，就无可厚非了。（以上全是瞎扯）



描述性统计：

所谓描述性统计，就是通过表格，图形等手段从各个方面对数据进行展示的过程。其主要作用就是从总体上看一看数据变量的特征、分布、变化趋势等等。

简单的描述性统计主要有两个内容，一是对数据变量进行五数概括，看一看变量的位置分布；另一个就是展示一下数据变量的均值与方差。

五数概括，就是指出变量数据的最小值、最大值、第一四分位数、中位数以及第三四分位数。

均值和方差：

其中均值衡量的是样本数据的平均程度，就是常说的平均值，方差描述的是数据的分散程度

![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712223345.png)

总体pearson相关系数

![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712224006.png)

上式中的协方差，简单来说，衡量的是两个变量之间的变化趋势。如果两个变量的变化趋势一致，即![[公式]](https://www.zhihu.com/equation?tex=X)变大![[公式]](https://www.zhihu.com/equation?tex=Y)也变大或者![[公式]](https://www.zhihu.com/equation?tex=X)变小![[公式]](https://www.zhihu.com/equation?tex=Y)也变小，即使某些时候一个大于均值一个小于均值，乘积可能为负数，但总的来看，协方差应该为正。反之，若两个变量变化趋势相反，则协方差应该为负数。如果两个变量的变化没有关系，则![[公式]](https://www.zhihu.com/equation?tex=%28X-EX%29%28Y-EY%29)时正时负，最后很可能正负相抵，使得协方差趋于0。



那Pearson相关系数呢？其实就是两个变量的协方差除以它们的标准差，可以将其理解为对![[公式]](https://www.zhihu.com/equation?tex=X%2CY)进行标准化，剔除了量纲影响的协方差。因为标准差反映的就是数据的波动程度，由于量纲不同，所以波动程度有大有小。而除以标准差之后，就相当于消灭了各自的波动程度，更加纯粹地反映出变量之间的变化关系。



样本相关系数：

![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712224408.png)



![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712224629.png)

相关系数刻画的是线性相关性，也就是用来衡量两个变量线性相关程度的指标。如果你想使用相关系数来说明它们之间的相关程度，就必须得通过画散点图等手段，确认这两个变量是具有一定的线性相关性的。嗯，记住，相关系数只能说明线性相关程度。如果两个变量之间具有某种二次或者指数关系，它们仍然是具有相关性的，只是线性相关程度可能比较低罢了。所以千万不要看到相关系数很小就认为二者不相关，事实上只是线性不相关。



第二点，即使相关系数很大，也不一定真的线性相关。



### **对Pearson相关系数进行假设检验**

首先说一下什么是假设检验。原理其实比较简单：我们假设某个命题是正确的，在这个假设正确的前提下，事件A是一个小概率事件。我们知道，在一次实验中小概率事件几乎不可能发生。所以，如果我们在一次试验中观察到事件A竟然发生了，就有足够的理由怀疑这一假设的正确性，从而否定该假设；反正，如果在一次试验中事件A并没有发生，我们就无法否定原假设，只能转而支持原假设了。（虽然无法否定原假设并不代表原假设就是正确的，但是在假设检验的框架下，我们认为无法否定就要支持）

我们将设为正确的假设，称之为原假设![[公式]](https://www.zhihu.com/equation?tex=H_0)，同时我们提出一个与之互斥的假设，称之为备择假设![[公式]](https://www.zhihu.com/equation?tex=H_1)。之后，我们需要寻找到一个事件A，需要满足该事件在原假设为真的情况下是一个小概率事件，一般而言我们是通过构造服从某种分布的统计量来完成。再者，对于给定的显著性水平，构造拒绝域，将样本数据代入我们找到的统计量中，判断是否在拒绝域内。是的话就说明小概率事件发生了，拒绝原假设，支持备择假设。否则就支持原假设。



所谓置信水平可以简单理解为拒绝原假设的程度



事实上，对相关系数进行假设检验，还要求相关的指标变量一定程度上服从正态分布。对于大样本（n>30），我们使用JB检验，原假设是服从正态，备择假设是不服从正态，之后调用matlab的jbtest函数。

对于小样本，可以使用![[公式]](https://www.zhihu.com/equation?tex=Shapiro-wilk)检验，SPSS上面有。

## **spearman相关系数**

![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712231834.png)





![](https://ccd123.oss-cn-guangzhou.aliyuncs.com/img/20220712230324.png)